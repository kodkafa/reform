@use 'reform-input';
@use 'checkbox-and-radio';
@use 'reform-button';

.reform-form {
  @apply flex flex-col gap-2;

  .reform-item {
    @apply text-zinc-700 focus-within:text-zinc-800
    border rounded-md
    border-gray-200
    focus-within:border-blue-500 focus-within:ring-blue-500
    dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 
    bg-white
    transition-all;
  }

  .reform-label {
    @apply block text-sm mb-1 font-medium dark:text-white;
  }

  .reform-textarea {
    @apply py-2 px-4 h-11;
  }

  .reform-item-error {
    @apply py-1 text-xs text-red-600;
  }

  > .reform-error {
    @apply my-2 ml-6 text-xs text-red-600;
  }

  > .reform-error li {
    @apply list-disc;
  }

  .reform-switch {
    @apply flex items-center space-x-3;

    input {
      @apply flex items-center relative shrink-0 w-[3.25rem] h-7 bg-gray-100 checked:bg-none checked:bg-blue-600 rounded-full cursor-pointer transition-all ease-in-out duration-200 border-2 border-transparent ring-transparent focus:border-blue-600 ring-offset-white focus:outline-none appearance-none dark:bg-gray-700 dark:checked:bg-blue-600 dark:focus:ring-offset-gray-800
      focus:ring-2 focus:ring-blue-600 focus:ring-offset-2
      before:inline-block before:w-6 before:h-6 before:bg-white checked:before:bg-blue-200 before:translate-x-0 checked:before:translate-x-full before:shadow before:rounded-full before:transform before:ring-0 before:transition before:ease-in-out before:duration-200 dark:before:bg-gray-400 dark:checked:before:bg-blue-200;
    }
  }

  .reform-select {
    @apply py-2 outline-none;
  }

  .reform-input-group {
    @apply flex w-full items-center justify-between px-0 h-max overflow-hidden;

    .reform-item {
      @apply border-none px-0;
    }

    .reform-input {
      @apply flex-1 border-none;
    }

    .reform-item-error {
      @apply hidden;
    }

    label {
      @apply hidden;
    }
  }

  // -------------------------------------------------------------------------------------------

  &.reform-loading {
    .reform-submit {
      @apply bg-red-500;
    }

    .reform-loader {
      @apply visible;
    }

    button[type='submit'] {
      @apply pointer-events-none
      shadow-none
      shadow-inner
      text-gray-300;
      animation: SubmitAnimation 1.3s ease infinite;

      .reform-icon > :nth-child(2) {
        @apply hidden;
      }
    }
  }

  .reform-disabled {
    @apply opacity-50 pointer-events-none;
  }
}

@keyframes SubmitAnimation {
  0% {
    background-size: 400% 400%;
    background-position: 1% 50%;
  }
  50% {
    background-size: 200% 400%;
    background-position: 99% 50%;
  }
  100% {
    background-size: 400% 400%;
    background-position: 1% 50%;
  }
}
